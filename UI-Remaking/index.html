<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MAX CHAOS LAG SIMULATOR</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #0a0a0a;
    font-family: Arial, sans-serif;
  }

  .viewer-counter {
    position: fixed;
    top: 10px;
    left: 10px;
    font-size: 24px;
    color: #ff0;
    font-weight: bold;
    text-shadow: 0 0 10px #000;
    z-index: 9999;
    transition: transform 0.2s;
  }

  .message {
    position: absolute;
    white-space: nowrap;
    font-weight: bold;
    font-size: 16px;
    display: flex;
    align-items: center;
    gap: 5px;
    cursor: pointer;
    text-shadow: 0 0 5px #000;
  }

  .username { font-weight: bold; }
  .moderator { color: lime; }
  .platform-logo { width: 25px; height: 25px; }
  .confetti {
    position: absolute;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    pointer-events: none;
    opacity: 0.8;
  }
</style>
</head>
<body>

<div class="viewer-counter" id="viewerCounter">Viewers: 0</div>

<script>
const streamingPlatforms = {
  youtube: 'https://upload.wikimedia.org/wikipedia/commons/b/b8/YouTube_Logo_2017.svg',
  twitch: 'https://upload.wikimedia.org/wikipedia/commons/d/d8/Twitch_logo_%28wordmark_only%29.svg',
  tiktok: 'https://upload.wikimedia.org/wikipedia/en/0/0a/TikTok_logo.svg',
  facebook: 'https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Logo_%282019%29.png',
  twitter: 'https://upload.wikimedia.org/wikipedia/en/9/9f/Twitter_bird_logo_2012.svg'
};

const moderators = ['ModMax','AdminYT','ChatGuard','GodMod','MegaAdmin','SupremeMod'];
const emojis = ['ðŸ˜‚','ðŸ”¥','â¤ï¸','ðŸ‘','ðŸ’€','ðŸ¤£','ðŸ¥¹','ðŸ¤¯','ðŸ‘','ðŸ’¯','ðŸ˜Ž','ðŸ¥³','ðŸ˜±','ðŸ’¥','âœ¨'];
const messages = ['Hello everyone!','This stream is insane!','Check this out!','Subscribe now!','LOL','This is epic!','Canâ€™t stop watching ðŸ˜Ž','First time here!','Spam spam spam','Epic content!','ðŸ˜‚ðŸ˜‚ðŸ˜‚','Who else is here?','Legendary stream','ðŸ”¥ðŸ”¥ðŸ”¥'];

const spawnSound = new Audio('https://freesound.org/data/previews/522/522015_8045080-lq.mp3');
const clickSound = new Audio('https://freesound.org/data/previews/353/353539_5121236-lq.mp3');

let viewers = 0;
const viewerCounter = document.getElementById('viewerCounter');

function updateViewerCounter(flash=false){
  viewers++;
  viewerCounter.textContent = `Viewers: ${viewers}`;
  if(flash){
    viewerCounter.style.transform = 'scale(1.5)';
    setTimeout(()=>{ viewerCounter.style.transform = 'scale(1)'; },150);
  }
}

function randomName() {
  const adj=['Crazy','Fast','Silly','Epic','Happy','Dark','Silent','Wild','Funny','Cool','Mega','Ultra','Hyper','Ghost','King','Queen','Pro','Legend','Master'];
  const nouns=['Tiger','Ninja','Wizard','Gamer','Coder','Player','Robot','Alien','Panda','Shark','Dragon','Monkey','Hunter','Boss','Sniper'];
  return adj[Math.floor(Math.random()*adj.length)]+nouns[Math.floor(Math.random()*nouns.length)]+Math.floor(Math.random()*9999);
}

function randomMessage() {
  let msg=messages[Math.floor(Math.random()*messages.length)];
  if(Math.random()<0.9){
    for(let i=0;i<Math.floor(Math.random()*6);i++){ msg+=' '+emojis[Math.floor(Math.random()*emojis.length)]; }
  }
  return msg;
}

function randomColor() { return `rgb(${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)})`; }

function spawnConfetti(x,y){
  for(let i=0;i<20;i++){
    const confetti=document.createElement('div');
    confetti.className='confetti';
    confetti.style.left=x+'px';
    confetti.style.top=y+'px';
    confetti.style.background=randomColor();
    document.body.appendChild(confetti);
    const dx=(Math.random()-0.5)*400, dy=(Math.random()-0.5)*400;
    const duration=800+Math.random()*800;
    const startTime=performance.now();
    (function animate(time){
      const elapsed=time-startTime, progress=Math.min(elapsed/duration,1);
      confetti.style.left=x+dx*progress+'px';
      confetti.style.top=y+dy*progress+'px';
      confetti.style.opacity=1-progress;
      if(progress<1) requestAnimationFrame(animate);
      else document.body.removeChild(confetti);
    })(startTime);
  }
}

function spawnMessage(){
  const msgDiv=document.createElement('div');
  msgDiv.className='message';
  const isMod=Math.random()<0.1;
  const userName=isMod?moderators[Math.floor(Math.random()*moderators.length)]:randomName();
  const platform=Object.keys(streamingPlatforms)[Math.floor(Math.random()*Object.keys(streamingPlatforms).length)];
  const msgText=randomMessage();

  const startX=Math.random()<0.5?-500:window.innerWidth+500;
  const startY=Math.random()*(window.innerHeight-30);
  const endX=startX<0?window.innerWidth+500:-500;
  const duration=3000+Math.random()*3000;

  msgDiv.style.top=startY+'px';
  msgDiv.style.left=startX+'px';
  msgDiv.style.color=isMod?'lime':randomColor();
  msgDiv.innerHTML=`<img src="${streamingPlatforms[platform]}" class="platform-logo" alt="${platform}"><span class="username ${isMod?'moderator':''}">${userName}</span><span>${msgText}</span>`;

  document.body.appendChild(msgDiv);
  spawnSound.currentTime=0; spawnSound.play().catch(()=>{});
  updateViewerCounter();

  msgDiv.addEventListener('click',()=>{
    clickSound.currentTime=0; clickSound.play().catch(()=>{});
    const rect=msgDiv.getBoundingClientRect();
    spawnConfetti(rect.left+rect.width/2, rect.top+rect.height/2);
    document.body.removeChild(msgDiv);
    updateViewerCounter(true);
  });

  const startTime=performance.now();
  (function animate(time){
    const elapsed=time-startTime, progress=Math.min(elapsed/duration,1);
    msgDiv.style.left=startX+(endX-startX)*progress+'px';
    msgDiv.style.transform=`translateY(${Math.sin(progress*Math.PI*2)*10}px) rotate(${progress*720}deg)`;
    if(progress<1) requestAnimationFrame(animate);
    else { const rect=msgDiv.getBoundingClientRect(); spawnConfetti(rect.left+rect.width/2, rect.top+rect.height/2); document.body.removeChild(msgDiv); }
  })(startTime);
}

// Spawn hundreds of messages at once to simulate extreme lag
for(let i=0;i<500;i++){
  setTimeout(spawnMessage, i*10); // staggered to prevent instant freeze
}

// Also keep spawning rapidly
setInterval(spawnMessage,30); // 33 messages/sec
</script>

</body>
</html>
